{% extends "parametres.html" %}
{% block parametres_content %}
  <h2>Génération IA — Configuration globale</h2>

  <form method="POST" class="mt-3">
    {{ form.hidden_tag() }}
    <div class="row g-3">
      <div class="col-md-4">
        <label class="form-label">Modèle</label>
        {{ form.chat_model(class="form-select") }}
      </div>
      <div class="col-md-4">
        <label class="form-label">Effort de raisonnement</label>
        {{ form.reasoning_effort(class="form-select") }}
      </div>
      <div class="col-md-4">
        <label class="form-label">Verbosité</label>
        {{ form.verbosity(class="form-select") }}
      </div>
    </div>
    <div class="mt-3">
      <button type="submit" class="btn btn-primary">Enregistrer</button>
    </div>
  </form>

  <hr class="my-4" />

  <h4>Prompts spécifiques</h4>
  <p class="text-muted">Ajustez les prompts par fonctionnalité depuis les pages dédiées:</p>
  <ul>
    <li><a href="{{ url_for('settings.ocr_prompt_settings') }}">OCR / Devis ministériels</a></li>
    <li><a href="{{ url_for('settings.parametres') }}#plan-cadre">Plan-cadre (sections)</a> — via Paramètres généraux</li>
    <li><a href="{{ url_for('settings.plan_de_cours_prompts') if has_endpoint('settings.plan_de_cours_prompts') else '#' }}">Plan de cours</a></li>
    <li><a href="{{ url_for('settings.chat_model_settings') }}">Modèles (chat)</a> — détail avancé</li>
  </ul>
{% endblock %}
