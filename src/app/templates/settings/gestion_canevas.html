{% extends "parametres.html" %}

{% block parametres_content %}

  <div class="container my-5">
    <h1 class="mb-4">Gestion des Canevas (docx)</h1>

    <!-- Section pour télécharger et remplacer un canevas existant -->
    <div class="card mb-4">
      <div class="card-header bg-primary text-white">
        Remplacer un Canevas Existant
      </div>
      <div class="card-body">

        <ul class="list-group">
          {% for canevas in canevas_list %}
            <li class="list-group-item d-flex justify-content-between align-items-center">
              <span class="font-weight-bold">{{ canevas }}</span>
              <div class="d-flex align-items-center">
                <!-- Bouton de téléchargement -->
                <a href="{{ url_for('settings.download_canevas', filename=canevas) }}" class="btn btn-outline-primary btn-sm me-2" download>
                  <i class="fas fa-download"></i> Télécharger
                </a>

                <!-- Formulaire pour remplacer le canevas -->
                <form method="POST" action="{{ url_for('settings.upload_canevas', filename=canevas) }}" enctype="multipart/form-data" class="d-flex">
                  {{ upload_form.hidden_tag() }}
                  <div class="input-group input-group-sm me-2">
                    <input type="file" name="file" class="form-control" required>
                  </div>
                  <button type="submit" class="btn btn-outline-warning btn-sm">
                    <i class="fas fa-upload"></i> Remplacer
                  </button>
                </form>
              </div>
            </li>
          {% endfor %}
        </ul>
      </div>
    </div>

  </div>

{% endblock %}