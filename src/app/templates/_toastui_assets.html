{# Centralized Toast UI asset loader to avoid third-party cookies when self-hosted #}
{% if config['TOASTUI_USE_CDN'] %}
  {% set tui_ver = config.get('TOASTUI_VERSION', 'latest') %}
  {% if config.get('TOASTUI_CDN_PROVIDER', 'toast') == 'jsdelivr' %}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@toast-ui/editor@{{ tui_ver }}/dist/toastui-editor.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/@toast-ui/editor@{{ tui_ver }}/dist/toastui-editor-all.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/@toast-ui/editor-plugin-autoheight@{{ tui_ver }}/dist/toastui-editor-plugin-autoheight.js" defer></script>
  {% else %}
    <link rel="stylesheet" href="https://uicdn.toast.com/editor/latest/toastui-editor.css" />
    <script src="https://uicdn.toast.com/editor/latest/toastui-editor-all.min.js" defer></script>
    <script src="https://uicdn.toast.com/editor-plugin-autoheight/latest/toastui-editor-plugin-autoheight.js" defer></script>
  {% endif %}
{% else %}
  <link rel="stylesheet" href="{{ asset_url('vendor/toastui/toastui-editor.min.css') }}" />
  <script src="{{ asset_url('vendor/toastui/toastui-editor-all.min.js') }}" defer></script>
  <script src="{{ asset_url('vendor/toastui/toastui-editor-plugin-autoheight.js') }}" defer></script>
{% endif %}
